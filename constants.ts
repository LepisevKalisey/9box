import { BoxDefinition, PerformanceLevel, PotentialLevel } from './types';
export interface BoxGuide {
  summary: string;
  recommendations: string[];
}

export const BOX_DEFINITIONS: BoxDefinition[][] = [
  // Row 0 (Low Potential)
  [
    {
      id: 'risk',
      name: 'Риск увольнения', // Low Pot, Low Perf
      description: 'Низкая эффективность и потенциал. Требуется план улучшений или увольнение.',
      color: 'bg-red-100',
      textColor: 'text-red-800',
      x: 0,
      y: 0
    },
    {
      id: 'effective',
      name: 'Эффективный сотрудник', // Low Pot, Mod Perf
      description: 'Хорошо справляется с текущей ролью. Ключевой исполнитель.',
      color: 'bg-yellow-100',
      textColor: 'text-yellow-800',
      x: 1,
      y: 0
    },
    {
      id: 'expert',
      name: 'Профессионал', // Low Pot, High Perf
      description: 'Эксперт в своем деле. Удерживать и мотивировать.',
      color: 'bg-green-100',
      textColor: 'text-green-800',
      x: 2,
      y: 0
    }
  ],
  // Row 1 (Moderate Potential)
  [
    {
      id: 'inconsistent',
      name: 'Нестабильный игрок', // Mod Pot, Low Perf
      description: 'Есть потенциал, но результаты слабые. Нужен коучинг или смена роли.',
      color: 'bg-orange-100',
      textColor: 'text-orange-800',
      x: 0,
      y: 1
    },
    {
      id: 'core',
      name: 'Ключевой игрок', // Mod Pot, Mod Perf
      description: 'Надежный сотрудник с возможностью роста.',
      color: 'bg-blue-100',
      textColor: 'text-blue-800',
      x: 1,
      y: 1
    },
    {
      id: 'high-impact',
      name: 'Высокоэффективный', // Mod Pot, High Perf
      description: 'Отличные результаты, может брать больше ответственности.',
      color: 'bg-green-200',
      textColor: 'text-green-900',
      x: 2,
      y: 1
    }
  ],
  // Row 2 (High Potential)
  [
    {
      id: 'enigma',
      name: 'Темная лошадка', // High Pot, Low Perf
      description: 'Высокий талант, низкие результаты. Нужно выяснить причины.',
      color: 'bg-yellow-200',
      textColor: 'text-yellow-900',
      x: 0,
      y: 2
    },
    {
      id: 'growth',
      name: 'Растущая звезда', // High Pot, Mod Perf
      description: 'Быстро учится, хорошие результаты. Готовить к повышению.',
      color: 'bg-teal-100',
      textColor: 'text-teal-800',
      x: 1,
      y: 2
    },
    {
      id: 'star',
      name: 'Будущий лидер', // High Pot, High Perf
      description: 'Топ-талант. Требует особых программ развития и удержания.',
      color: 'bg-purple-100',
      textColor: 'text-purple-800',
      x: 2,
      y: 2
    }
  ]
];

export const GET_BOX = (perf: PerformanceLevel, pot: PotentialLevel): BoxDefinition => {
  return BOX_DEFINITIONS[pot][perf];
};

export const BOX_GUIDE: Record<string, BoxGuide> = {
  risk: {
    summary: 'Низкая эффективность и низкий потенциал. Вероятная ошибка подбора — человек не на своем месте.',
    recommendations: [
      'Диагностика причин: интервью 1:1, анализ задач, ожиданий и нагрузки',
      'Срочная коррекция условий: упрощение задач, поддержка наставника, снятие препятствий',
      'Краткий план стабилизации на 4–6 недель с измеримыми метриками',
      'Проверка профиля навыков: возможно, роль не соответствует сильным сторонам',
      'Предложить альтернативную позицию/функцию при наличии потенциала в другой роли',
      'Если динамики нет за 6–8 недель — готовить цивилизованное расставание',
      'Пересмотреть процедуру найма: критерии, этапы, проверки пригодности к роли'
    ]
  },
  effective: {
    summary: 'Средняя эффективность при низком потенциале. Зона особого внимания без явной ставки на развитие.',
    recommendations: [
      'Выяснить причину низкого потенциала: мотивация, амбиции, контекст',
      'Индивидуальный план с акцентом на самообучение и малозатратные активности',
      'Чёткая роль и стабильная загрузка для поддержания эффективности',
      'Ежемесячные короткие чек‑поинты по динамике',
      'Поощрять улучшение эффективности/надёжности, не форсируя карьерный рост',
      'Сдерживать инвестиции в развитие, если прогресса по потенциалу нет'
    ]
  },
  expert: {
    summary: 'Высокая эффективность при низком потенциале. Стабильные «рабочие лошадки».',
    recommendations: [
      'Поддерживать комфортные условия и регулярно индексировать компенсацию',
      'Не предлагать управление без явного запроса',
      'Горизонтальный рост: сложные задачи в зоне экспертизы, наставничество по желанию',
      'Раннее информирование и мягкая подготовка к изменениям процессов/инструментов',
      'Обеспечить признание вклада и стабильность роли'
    ]
  },
  inconsistent: {
    summary: 'Низкая эффективность при среднем потенциале. Противоречивые сотрудники — нужна адаптация и коучинг.',
    recommendations: [
      'Диагностика: понимает ли задачи, критерии успеха и стандарты качества',
      'Задать измеримые KPI на 8–12 недель и цикл обратной связи',
      'Онбординг‑дооснащение: чек‑листы, парное выполнение, примеры эталонных результатов',
      'Точечное обучение и коучинг по узким дефицитам',
      'Отслеживание динамики каждые 2–3 недели',
      'Если рост не подтверждается — остановить инвестиции и искать другую роль'
    ]
  },
  core: {
    summary: 'Средняя эффективность и потенциал. Основа команды, на них держатся процессы.',
    recommendations: [
      'Регулярная обратная связь, признание достижений и поддержка вовлечённости',
      'Индивидуальный план развития с горизонтом 12–24 месяцев',
      'Краткосрочные ротации и расширение зоны ответственности',
      'Коучинг/наставничество для желающих ускорять рост',
      'Фокус на переход к высокой эффективности при сохранении надёжности'
    ]
  },
  'high-impact': {
    summary: 'Высокая эффективность при среднем потенциале. Беречь и готовить к расширению роли.',
    recommendations: [
      'Стабильные условия, признание ценности и поддержка продуктивности',
      'Проверять мотивацию: вертикальный vs горизонтальный рост',
      'Пошагово расширять ответственность и готовить к новым ролям',
      'Назначать подготовку и период адаптации перед повышением',
      'Удерживать фокус на результатах и проверять готовность к лидерским задачам'
    ]
  },
  enigma: {
    summary: 'Высокий потенциал при низкой эффективности. «Проблемные гении» — направить талант в результат.',
    recommendations: [
      'Сфокусированное обучение и наставничество с выходом на практику',
      'Чёткие критерии результата и сроки, регулярные отзывы',
      'Ставить задачи, позволяющие конвертировать потенциал в измеримый аутпут',
      'Контроль прогресса в горизонте 6–12 месяцев',
      'Если потенциал не конвертируется — рассмотреть смену роли/функции'
    ]
  },
  growth: {
    summary: 'Высокий потенциал при средней эффективности. Восходящие звезды — ставить на рост производительности.',
    recommendations: [
      'Расширять зоны ответственности и усложнять задачи с поддержкой',
      'Дообучать недостающие компетенции, завершить адаптацию',
      'Фиксировать прогресс и давать время на рост производительности',
      'Создавать мост к будущему повышению: временные роли, спец‑проекты'
    ]
  },
  star: {
    summary: 'Высокая эффективность и высокий потенциал. Лидеры и будущие преемники топ-ролей.',
    recommendations: [
      'Оценивать мотивацию/вовлечённость 2–3 раза в год',
      'Давать амбициозные задачи и роль лидера на проектах',
      'Индивидуальная программа лидерства: управление, влияние, нетворк',
      'План преемственности: шадоуинг топов, внешние встречи',
      'Конкурентная модель вознаграждения и retention‑стратегия'
    ]
  }
};

export interface QuestionOption {
  value: number;
  description?: string;
  weight?: number;
}

export interface Question {
  id: string;
  category: 'performance' | 'potential' | 'calibration';
  axis?: 'x' | 'y';
  isCalibration?: boolean;
  title: string;
  questionText: string;
  options: QuestionOption[];
}

export const ASSESSMENT_QUESTIONS: Question[] = [];
